<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx/21.0.6"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.appfx.iotmanagementapp.MainViewController"
            fitToWidth="true" fitToHeight="true">

    <content>
        <BorderPane prefWidth="800.0" prefHeight="500.0">

            <!-- Top: Verbindungseinstellungen -->
            <top>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>

                    <Label text="Host:"/>
                    <TextField fx:id="tfHost" promptText="test.mosquitto.org" prefWidth="220"/>

                    <Label text="Port:"/>
                    <TextField fx:id="tfPort" promptText="1883" prefWidth="90"/>

                    <Button fx:id="btnConnect" text="Connect" onAction="#handleConnect"/>
                </HBox>
            </top>

            <!-- Center: Räume-Grid (wird im Controller befüllt) -->
            <center>
                <GridPane fx:id="gridRooms" hgap="8" vgap="8">
                    <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="50.0"/>
                        <ColumnConstraints hgrow="ALWAYS" percentWidth="50.0"/>
                    </columnConstraints>
                </GridPane>
            </center>

            <!-- Bottom: Add-Button -->
            <bottom>
                <VBox spacing="8">
                    <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>

                    <Label text="MQTT Log:"/>
                    <!-- Neu: Log-Ausgabe -->
                    <TextArea fx:id="taLog"
                              prefRowCount="6"
                              wrapText="true"
                              editable="false"/>

                    <!-- Dein alter Add-Button bleibt erhalten -->
                    <HBox alignment="CENTER_RIGHT">
                        <Button fx:id="btnAddRoom" text="Add Room" onAction="#handleAddRoom"/>
                    </HBox>
                </VBox>
            </bottom>


        </BorderPane>
    </content>
</ScrollPane>
